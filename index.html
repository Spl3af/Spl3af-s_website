<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Spl3af Terminal</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    #commandLine {
  outline: none;
  border: none;
  background: transparent;
  color: #00ff00;
  font-family: monospace;
  white-space: pre;
  display: inline-block;
  min-width: 1ch;
}
  
  #commandLine {
  outline: none;
  border: none;
  background: transparent;
  color: #00ff00;
  font-family: monospace;
  white-space: pre;
  caret-color: transparent; /* hides native caret */
}

  #terminalWrapper {
  display: flex;
  justify-content: center;
  align-items: flex-start;
  height: 100vh;
  padding-top: 5vh;

  /* Responsive scaling */
  transform: scale(calc(0.8 + 0.4 * (100vw / 1000)));
  transform-origin: top center;

  /* Smooth transitions */
  transition: transform 0.3s ease-in-out;
}

    body {
      background-color: #000000;
      font-family: monospace;
      color: #00ff00;
    }

    #bootLog {
      padding: 10px;
    }

    .ok-tag {
      color: #00ff00;
      font-weight: bold;
    }

    .error-tag {
      color: #ff0000;
      font-weight: bold;
      text-shadow: 0 0 5px #ff0000;
    }

    #terminal {
      display: none;
    }

    #forceBootBtn {
      background-color: #000;
      color: #00ff00;
      border: 1px solid #00ff00;
      font-family: monospace;
      padding: 5px 10px;
      margin-top: 10px;
      cursor: pointer;
      display: none;
    }

    #terminalInput {
      margin-top: 10px;
    }

    #cursor {
      animation: blink 1s step-end infinite;
    }

    #commandLine {
  outline: none;
  color: #00ff00;
  font-family: monospace;
  white-space: pre;
}

#cursor {
  animation: blink 1s step-end infinite;
}

@keyframes blink {
  50% { opacity: 0; }
}
  </style>
</head>
<body>

  <div id="bootLog"></div>
  
<div id="terminalWrapper">
  <div id="terminal">
    <pre><code>
 ██████╗   ██████╗   ██╗       ██████╗    █████╗     ███████╗
 ██╔════╝  ██╔══██╗  ██║       ╚════██   ██╔══██╗    ██╔════╝
 ╚█████╗   ██████╔╝  ██║        █████╗   ███████║    █████╗  
  ╚═══██╗  ██╔═══╝   ██║        ╚═══██╗  ██╔══██║    ██╔══╝  
 ██████╔╝  ██║       ███████╗  ██████╔╝  ██║  ██║    ██║     
 ╚═════╝   ╚═╝       ╚══════╝  ╚═════╝   ╚═╝  ╚═╝    ╚═╝    
 ║    ╔══════════════════════════════════════════╗
 ║    ║   Welcome to Spl3af Terminal Interface  ║
 ║    ╚══════════════════════════════════════════╝
 ║
 ║       Type  <strong>/Boot</strong>  To Boot into The Website
 ╚═══<^:
    </code></pre>

<div id="terminalInput">
  &gt; <span id="commandLine" contenteditable="true"></span><span id="cursor">_</span>
</div>
    </div>
  </div>
</div>
  <button id="forceBootBtn">Force Boot</button>

  <script>
    function updateZoom() {
  const wrapper = document.getElementById("terminalWrapper");
  const scale = Math.min(1.5, 0.8 + 0.4 * (window.innerWidth / 1000));
  wrapper.style.transform = `scale(${scale})`;
}

window.addEventListener("resize", updateZoom);
window.addEventListener("load", updateZoom);

    function isMobileDevice() {
      return /Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent);
    }

    const bootLog = document.getElementById("bootLog");
    const terminal = document.getElementById("terminal");
    const forceBootBtn = document.getElementById("forceBootBtn");

    const isMobile = isMobileDevice();
    let errorDetected = false;

    const bootMessages = [
      '<span class="ok-tag">[OK]</span> Initializing Core...',
      '<span class="ok-tag">[OK]</span> Loading safety protocols...',
      '<span class="ok-tag">[OK]</span> Mounting /spl3af/home',
      isMobile
        ? '<span class="error-tag">[ERROR]</span> Device compatibility failed.'
        : '<span class="ok-tag">[OK]</span> Checking device compatibility...',
      isMobile
        ? '<span class="error-tag">[ERROR]</span> Terminal access restricted.'
        : '<span class="ok-tag">[OK]</span> Ready.',
      isMobile
        ? '<span class="error-tag">[FAIL]</span> Boot sequence aborted.'
        : 'Waiting for: <strong>/Boot</strong> to proceed.'
    ];

    if (isMobile) errorDetected = true;

    let i = 0;
function showBootMessage() {
  if (i < bootMessages.length) {
    const line = document.createElement("pre");
    line.innerHTML = bootMessages[i];
    bootLog.appendChild(line);
    i++;
    setTimeout(showBootMessage, 500);
  } else {
 setTimeout(() => {
  bootLog.innerHTML = "";
  terminal.style.display = "block";
  document.getElementById("commandLine").focus(); // Auto-focus input
}, 1000);
  }
}

window.onload = () => {
  updateZoom();
  showBootMessage();
  document.getElementById("commandLine").focus();
};

    forceBootBtn.addEventListener("click", () => {
      document.body.classList.add("fadeOut");
      setTimeout(() => {
        window.location.href = "main.html";
      }, 1000);
    });
    document.addEventListener("click", () => {
  document.getElementById("commandLine").focus();
});

document.getElementById("commandLine").addEventListener("keydown", function(e) {
  if (e.key === "Enter") {
    e.preventDefault(); // Prevent newline
    const cmd = this.innerText.trim().toLowerCase();
    if (cmd === "/boot") {
      document.body.classList.add("fadeOut");
      setTimeout(() => {
        window.location.href = "main.html";
      }, 1000);
    } else {
      alert("Unknown command. Try /boot");
    }
  }
});
    document.getElementById("commandLine").addEventListener("paste", e => e.preventDefault());
  </script>
</body>
</html>
